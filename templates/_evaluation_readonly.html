{# _evaluation_readonly.html #}
<div class="container">
  <!-- Urbanisation -->
  <div class="card p-4 my-3">
    <h3>üìÅ Urbanisation</h3>
    {% set questions = {
      'couplage': "Faible couplage de l'application dans le SI",
      'decommissionnement': "Existence d'une proc√©dure de d√©commissionnement"
    } %}
    {% for key, label in questions.items() %}
      <div class="mb-3">
        <label class="form-label"><strong>{{ label }} :</strong></label>
        <select class="form-select" disabled>
          {% set value = evaluation.responses.get(key, '') %}
          <option value="Oui total" {% if value == "Oui total" %}selected{% endif %}>Oui total</option>
          <option value="Partiel" {% if value == "Partiel" %}selected{% endif %}>Partiel</option>
          <option value="Insuffisant" {% if value == "Insuffisant" %}selected{% endif %}>Insuffisant</option>
          <option value="Non total" {% if value == "Non total" %}selected{% endif %}>Non total</option>
          <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
        </select>
        <label class="form-label">Commentaire :</label>
        <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get(key ~ '_comment', '') }}</textarea>
      </div>
    {% endfor %}
  </div>

  <!-- Organisation -->
  <div class="card p-4 my-3">
    <h3>üìÅ Organisation</h3>
    {% set questions = {
      'doc': 'Documentation compl√®te et √† jour',
      'team': '√âquipe clairement identifi√©e',
      'roadmap': 'Roadmap claire'
    } %}
    {% for key, label in questions.items() %}
      <div class="mb-3">
        <label class="form-label"><strong>{{ label }} :</strong></label>
        <select class="form-select" disabled>
          {% set value = evaluation.responses.get(key, '') %}
          <option value="Oui total" {% if value == "Oui total" %}selected{% endif %}>Oui total</option>
          <option value="Partiel" {% if value == "Partiel" %}selected{% endif %}>Partiel</option>
          <option value="Insuffisant" {% if value == "Insuffisant" %}selected{% endif %}>Insuffisant</option>
          <option value="Non total" {% if value == "Non total" %}selected{% endif %}>Non total</option>
          <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
        </select>
        <label class="form-label">Commentaire :</label>
        <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get(key ~ '_comment', '') }}</textarea>
      </div>
    {% endfor %}
  </div>

  <!-- Obsolescence -->
  <div class="card p-4 my-3">
    <h3>‚ö†Ô∏è Obsolescence</h3>
    {% set questions = {
      'tech_obsolete': 'Technologies obsol√®tes',
      'mco': 'Maintien en condition op√©rationnelle difficile',
      'support': 'Composants tiers non support√©s'
    } %}
    {% for key, label in questions.items() %}
      <div class="mb-3">
        <label class="form-label"><strong>{{ label }} :</strong></label>
        <select class="form-select" disabled>
          {% set value = evaluation.responses.get(key, '') %}
          <option value="Non" {% if value == "Non" %}selected{% endif %}>Non</option>
          <option value="Partiellement" {% if value == "Partiellement" %}selected{% endif %}>Partiellement</option>
          <option value="Majoritairement" {% if value == "Majoritairement" %}selected{% endif %}>Majoritairement</option>
          <option value="Totalement" {% if value == "Totalement" %}selected{% endif %}>Totalement</option>
          <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
        </select>
        <label class="form-label">Commentaire :</label>
        <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get(key ~ '_comment', '') }}</textarea>
      </div>
    {% endfor %}
  </div>

  <!-- Qualit√© et D√©veloppement -->
  <div class="card p-4 my-3">
    <h3>üõ†Ô∏è Qualit√© et D√©veloppement</h3>
    {% set questions = {
      'etat_art': "Alignement avec l‚Äô√©tat de l‚Äôart",
      'respect': "Respect des standards et des principes d'architecture",
      'code_source': "Code source maintenable et document√©",
      'tests': "Tests automatis√©s"
    } %}
    {% for key, label in questions.items() %}
      <div class="mb-3">
        <label class="form-label"><strong>{{ label }} :</strong></label>
        <select class="form-select" disabled>
          {% set value = evaluation.responses.get(key, '') %}
          <option value="Oui total" {% if value == "Oui total" %}selected{% endif %}>Oui total</option>
          <option value="Partiel" {% if value == "Partiel" %}selected{% endif %}>Partiel</option>
          <option value="Insuffisant" {% if value == "Insuffisant" %}selected{% endif %}>Insuffisant</option>
          <option value="Non total" {% if value == "Non total" %}selected{% endif %}>Non total</option>
          <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
        </select>
        <label class="form-label">Commentaire :</label>
        <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get(key ~ '_comment', '') }}</textarea>
      </div>
    {% endfor %}
  </div>

  <!-- S√©curit√© et Conformit√© -->
  <div class="card p-4 my-3">
    <h3>üîê S√©curit√© et Conformit√©</h3>
    <div class="mb-3">
      <label class="form-label"><strong>Conformit√© aux exigences de s√©curit√© :</strong></label>
      <select class="form-select" disabled>
        {% set value = evaluation.responses.get('securite', '') %}
        <option value="Oui total" {% if value == "Oui total" %}selected{% endif %}>Oui total</option>
        <option value="Partiel" {% if value == "Partiel" %}selected{% endif %}>Partiel</option>
        <option value="Insuffisant" {% if value == "Insuffisant" %}selected{% endif %}>Insuffisant</option>
        <option value="Non total" {% if value == "Non total" %}selected{% endif %}>Non total</option>
        <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
      </select>
      <label class="form-label">Commentaire :</label>
      <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get('securite_comment', '') }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label"><strong>Vuln√©rabilit√©s connues non corrig√©es :</strong></label>
      <select class="form-select" disabled>
        {% set value = evaluation.responses.get('vulnerabilites', '') %}
        <option value="Non" {% if value == "Non" %}selected{% endif %}>Non</option>
        <option value="Partiellement" {% if value == "Partiellement" %}selected{% endif %}>Partiellement</option>
        <option value="Majoritairement" {% if value == "Majoritairement" %}selected{% endif %}>Majoritairement</option>
        <option value="Totalement" {% if value == "Totalement" %}selected{% endif %}>Totalement</option>
        <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
      </select>
      <label class="form-label">Commentaire :</label>
      <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get('vulnerabilites_comment', '') }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label"><strong>M√©canismes de surveillance et d‚Äôalerte :</strong></label>
      <select class="form-select" disabled>
        {% set value = evaluation.responses.get('surveillance', '') %}
        <option value="Oui total" {% if value == "Oui total" %}selected{% endif %}>Oui total</option>
        <option value="Partiel" {% if value == "Partiel" %}selected{% endif %}>Partiel</option>
        <option value="Insuffisant" {% if value == "Insuffisant" %}selected{% endif %}>Insuffisant</option>
        <option value="Non total" {% if value == "Non total" %}selected{% endif %}>Non total</option>
        <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
      </select>
      <label class="form-label">Commentaire :</label>
      <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get('surveillance_comment', '') }}</textarea>
    </div>
  </div>

  <!-- Exploitation et Performance -->
  <div class="card p-4 my-3">
    <h3>üöÄ Exploitation et Performance</h3>
    <div class="mb-3">
      <label class="form-label"><strong>Incidents r√©currents :</strong></label>
      <select class="form-select" disabled>
        {% set value = evaluation.responses.get('incidents', '') %}
        <option value="Non" {% if value == "Non" %}selected{% endif %}>Non</option>
        <option value="Partiellement" {% if value == "Partiellement" %}selected{% endif %}>Partiellement</option>
        <option value="Majoritairement" {% if value == "Majoritairement" %}selected{% endif %}>Majoritairement</option>
        <option value="Totalement" {% if value == "Totalement" %}selected{% endif %}>Totalement</option>
        <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
      </select>
      <label class="form-label">Commentaire :</label>
      <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get('incidents_comment', '') }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label"><strong>Performances satisfaisantes :</strong></label>
      <select class="form-select" disabled>
        {% set value = evaluation.responses.get('performances', '') %}
        <option value="Oui total" {% if value == "Oui total" %}selected{% endif %}>Oui total</option>
        <option value="Partiel" {% if value == "Partiel" %}selected{% endif %}>Partiel</option>
        <option value="Insuffisant" {% if value == "Insuffisant" %}selected{% endif %}>Insuffisant</option>
        <option value="Non total" {% if value == "Non total" %}selected{% endif %}>Non total</option>
        <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
      </select>
      <label class="form-label">Commentaire :</label>
      <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get('performances_comment', '') }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label"><strong>Application scalable :</strong></label>
      <select class="form-select" disabled>
        {% set value = evaluation.responses.get('scalable', '') %}
        <option value="Oui total" {% if value == "Oui total" %}selected{% endif %}>Oui total</option>
        <option value="Partiel" {% if value == "Partiel" %}selected{% endif %}>Partiel</option>
        <option value="Insuffisant" {% if value == "Insuffisant" %}selected{% endif %}>Insuffisant</option>
        <option value="Non total" {% if value == "Non total" %}selected{% endif %}>Non total</option>
        <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
      </select>
      <label class="form-label">Commentaire :</label>
      <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get('scalable_comment', '') }}</textarea>
    </div>
  </div>

  <!-- Fonctionnel -->
  <div class="card p-4 my-3">
    <h3>üìà Fonctionnel</h3>
    {% set questions = {
      'besoins_metier': "Couverture des besoins m√©tier",
      'recouvrement': "P√©rim√®tre applicatif sp√©cifique identifi√©",
      'evolutivite': "√âvolutivit√© pour nouvelles demandes m√©tier"
    } %}
    {% for key, label in questions.items() %}
      <div class="mb-3">
        <label class="form-label"><strong>{{ label }} :</strong></label>
        <select class="form-select" disabled>
          {% set value = evaluation.responses.get(key, '') %}
          <option value="Oui total" {% if value == "Oui total" %}selected{% endif %}>Oui total</option>
          <option value="Partiel" {% if value == "Partiel" %}selected{% endif %}>Partiel</option>
          <option value="Insuffisant" {% if value == "Insuffisant" %}selected{% endif %}>Insuffisant</option>
          <option value="Non total" {% if value == "Non total" %}selected{% endif %}>Non total</option>
          <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
        </select>
        <label class="form-label">Commentaire :</label>
        <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get(key ~ '_comment', '') }}</textarea>
      </div>
    {% endfor %}
    <div class="mb-3">
      <label class="form-label"><strong>Fonctionnalit√©s obsol√®tes ou inutilis√©es :</strong></label>
      <select class="form-select" disabled>
        {% set value = evaluation.responses.get('fonctions', '') %}
        <option value="Non" {% if value == "Non" %}selected{% endif %}>Non</option>
        <option value="Partiellement" {% if value == "Partiellement" %}selected{% endif %}>Partiellement</option>
        <option value="Majoritairement" {% if value == "Majoritairement" %}selected{% endif %}>Majoritairement</option>
        <option value="Totalement" {% if value == "Totalement" %}selected{% endif %}>Totalement</option>
        <option value="Non applicable" {% if value == "Non applicable" %}selected{% endif %}>Non applicable</option>
      </select>
      <label class="form-label">Commentaire :</label>
      <textarea class="form-control" rows="2" disabled>{{ evaluation.comments.get('fonctions_comment', '') }}</textarea>
    </div>
  </div>
</div>
